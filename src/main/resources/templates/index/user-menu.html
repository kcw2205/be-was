<li class="header__menu__item">
    <a class="btn btn_ghost btn_size_s" href="/mypage" style="font-weight: bold;">안녕하세요, {{name}}님!</a>
</li>
<li class="header__menu__item">
    <a class="btn btn_contained btn_size_s" href="/article">글쓰기</a>
</li>
<li class="header__menu__item">
    <a class="btn btn_ghost btn_size_s" href="#" onclick="handleLogout(event)">로그아웃</a>
</li>

<script>
    function handleLogout(event) {
        // 1. <a> 태그의 기본 이동 동작을 막습니다.
        event.preventDefault();

        // 2. /user/logout 으로 POST 요청을 보냅니다.
        fetch('/user/logout', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
                // 만약 Spring Security를 쓰고 계시다면 여기에 CSRF 토큰 헤더가 필요할 수 있습니다.
                // 'X-CSRF-TOKEN': '토큰값'
            }
        })
            .then(response => {
                if (response.ok) {
                    // 3. 요청 성공 시 메인 페이지('/')로 이동합니다.
                    window.location.href = '/';
                } else {
                    alert('로그아웃에 실패했습니다.');
                }
            })
            .catch(error => {
                console.error('Logout error:', error);
                alert('로그아웃 중 오류가 발생했습니다.');
            });
    }
</script>